<!DOCTYPE html>
<html>

	<head>
		<title>OpenAuth</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0">
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<link href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="../../css/common.css">
		<style>
			.article .title {
				font-size: 18px;
				font-weight: 600;
				line-height: 40px;
			}
			
			.article .tags .el-tag {
				font-size: 12px;
				color: #666666;
				height: auto;
				padding: 5px 10px;
				line-height: 1;
				border-radius: 2px;
			}
			
			.article .scan-see {
				font-size: 14px;
				color: #666666;
			}
			
			.article .scan-see i {
				margin-top: -2px;
			}
			
			.article .user-info {
				margin-top: 20px;
				margin-bottom: 20px;
				padding: 20px;
				background-color: #efefef;
			}
			
			.article .user-info .user-avator,
			.article .user-info .user-avator>img {
				width: 50px;
				height: 50px;
				border-radius: 2px;
			}
			
			.article .user-info .user-avator {
				margin-right: 10px;
			}
			
			.article .user-info .user {
				line-height: 25px;
				height: 25px;
				font-size: 14px;
			}
			
			.article .user-info .user .name {
				color: #009E94;
				padding-right: 10px;
			}
			
			.article .user-info .user .role {
				color: #FF7200;
				padding-right: 10px;
			}
			
			.article .user-info .user .time {
				color: #666666;
				font-size: 12px;
			}
			
			.article .user-info .sa {
				color: #FF7200;
				font-size: 14px;
				line-height: 25px;
			}
			
			.questions {
				margin-top: 20px;
			}
			
			.questions .hot {
				background-color: #f3f5f7;
				border-left: 4px solid #42b983;
				padding-left: 20px;
				line-height: 40px;
				height: 40px;
				font-size: 14px;
				font-weight: 600;
				color: #2c3e50;
			}
			
			.questions .questions-body {
				padding: 10px;
				border: 1px solid #efefef;
				border-top: 0;
			}
			
			.questions .questions-body .question {
				border-bottom: 1px dashed #efefef;
			}
			
			.questions .questions-body .question:last-child {
				border-bottom: 0;
			}
			
			.questions .questions-body .question {
				border-bottom: 1px dashed #efefef;
				padding: 10px;
			}
			
			.questions .questions-body .question .user .avator img {
				width: 50px;
				height: 50px;
				border-radius: 50%;
			}
			
			.questions .questions-body .question .user .user-right {
				line-height: 25px;
				padding-left: 10px;
				font-size: 14px;
			}
			
			.questions .questions-body .question .user .user-right .time {
				color: #666;
				font-size: 12px;
			}
			
			.question .question-content {
				font-size: 14px;
				color: #888;
				padding: 5px 0;
			}
			
			.question .repeat i {
				font-size: 16px;
				color: #888;
				vertical-align: top;
			}
			
			.question .repeat {
				cursor: pointer;
				font-size: 16px;
				line-height: 16px;
				color: #888;
			}
			
			.tinymce-container {
				position: relative;
			}
			
			.tinymce-container .mce-fullscreen {
				z-index: 10000;
			}
			
			.tinymce-textarea {
				visibility: hidden;
				z-index: -1;
			}
			
			.editor-custom-btn-container {
				position: absolute;
				right: 4px;
				top: 4px;
				/*z-index: 2005;*/
			}
			
			.fullscreen .editor-custom-btn-container {
				z-index: 10000;
				position: fixed;
			}
			
			.editor-upload-btn {
				display: inline-block;
			}
			
			.editor-slide-upload {
				margin-bottom: 20px;
			}
			
			.editor-slide-upload .el-upload--picture-card {
				width: 100%;
			}
			
			.tinymce-container {
				margin-top: 30px;
			}
		</style>
	</head>

	<body>
		<div id="app">
			<el-container>
				<el-header class="box-flex align-center">
					<app-header :current="current"></app-header>
				</el-header>
				<el-main class="bg-white">
					<div class="container p-t-m box-flex">
						<div class="left-body flex-1">
							<div class="article">
								<div class="title">
									{{question.title}}
								</div>
								<div class="box-flex justify-content-space-between align-center">
									<div class="tags">
										<el-tag class="fly-tip-stick" v-if="question.stick>0">置顶帖</el-tag>
										<el-tag class="fly-tip-jing" v-if="question.status==1">精帖</el-tag>

									</div>
									<div class="scan-see">
										<i class="fa fa-fw fa-eye"></i>{{question.hits}}
										<i class="fa fa-fw fa-commenting"></i>{{question.comment}}
									</div>
								</div>
								<div class="user-info box-flex">
									<div class="user-avator">
										<img :src="'../../img/avatar/'+question.user.pic" :alt="question.user.name">
									</div>
									<div class="flex-1">
										<div class="user">
											<span class="name">{{question.user.name}}</span>
											<span class="role" v-if="question.user.rmb">VIP{{question.user.rmb}}</span>
											<span class="time">发布于{{question.time}}</span>
										</div>
										<div class="sa">
											悬赏：{{question.experience}}飞吻
										</div>
									</div>
								</div>
								<div class="body" v-html="question.content">
								</div>
							</div>
							<div class="questions">
								<div class="hot">
									热门回答
								</div>
								<div class="questions-body">
									<div class="question">
										<div class="user box-flex align-center">
											<div class="avator">
												<img src="../../img/1.jpg" />
											</div>
											<div class="user-right">
												<div class="name">
													宝宝
												</div>
												<div class="time">
													2018-12-12
												</div>
											</div>
										</div>
										<div class="requestion">
											<el-collapse-transition>
												<div style="display: none;" class="tinymce-open">
													<tinymce :height="150" v-model="content"></tinymce>
												</div>
											</el-collapse-transition>

										</div>
									</div>
									<div class="question">
										<div class="user box-flex align-center">
											<div class="avator">
												<img src="../../img/1.jpg" />
											</div>
											<div class="user-right">
												<div class="name">
													宝宝
												</div>
												<div class="time">
													2018-12-12
												</div>
											</div>
										</div>
										<div class="question-content">
											但，如果觉得它的设计开发符合你的工作场景，并用于企业或商业应用，从事相关的商业活动，请尊重知识产权，授权后再进行使用。
										</div>
										<div class="requestion">
											<div class="repeat">
												<i class="fa-commenting fa-fw fa"></i> 回复
											</div>
										</div>
									</div>
									<tinymce :height="200" v-model="content"></tinymce>
								</div>

							</div>
						</div>

						<div class="right-body">
							<el-card class="left-body flex-1 card-small" shadow="never">
								<div slot="header" class="clearfix box-flex">
									最近热帖
								</div>
								<div class="p-m news">
									<div class="new ellipsis box-flex align-center">
										<div class="num">01.</div>
										<div class="title ellipsis">
											我是来写代码得我是来写代码得我是来写代码得我是来写代码得我是来写代码得
										</div>
										<div class="scan">
											<i class="fa fa-fw fa-eye">123213</i>
										</div>
									</div>
									<div class="new box-flex align-center">
										<div class="num">01</div>
										<div class="title ellipsis"></div>
										<div class="scan">
											<i class="fa fa-fw fa-eye">123213</i>
										</div>
									</div>
									<div class="new ellipsis box-flex align-center">
										<div class="num">01</div>
										<div class="title"></div>
										<div class="scan">
											<i class="fa fa-fw fa-eye">123213</i>
										</div>
									</div>
									<div class="new ellipsis box-flex align-center">
										<div class="num">01</div>
										<div class="title"></div>
										<div class="scan">
											<i class="fa fa-fw fa-eye">123213</i>
										</div>
									</div>
									<div class="new ellipsis box-flex align-center">
										<div class="num">01</div>
										<div class="title"></div>
										<div class="scan">
											<i class="fa fa-fw fa-eye">123213</i>
										</div>
									</div>

								</div>
							</el-card>

							<el-card class="left-body flex-1 card-small" shadow="never">
								<div slot="header" class="clearfix box-flex">
									友情链接
								</div>
								<div class="box-flex flex-wrap p-m">
									<div class="link">
										<a href="https://cn.vuejs.org/" target="_blank">VUE</a>
									</div>
									<div class="link">
										<a href="http://www.openauth.me/" target="_blank">OpenAuth</a>
									</div>
									<div class="link">
										<a href="http://element.eleme.io/#/zh-CN" target="_blank">ELement-UI</a>
									</div>
									<div class="link">
										<a href="http://mint-ui.github.io/#!/zh-cn" target="_blank">MINT-UI</a>
									</div>
									<div class="link">
										<a href="https://elemefe.github.io/vue-amap/#/" target="_blank">高德VUE</a>
									</div>
									<div class="link">
										<a href="https://fly.layui.com/" target="_blank">LayUI</a>
									</div>
								</div>
							</el-card>
						</div>
					</div>
				</el-main>
				<el-footer height="100px">
					<app-footer></app-footer>
				</el-footer>
			</el-container>
		</div>

	</body>
	<!-- import Vue before Element -->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

	<!-- import JavaScript -->
	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="../../js/header.js"></script>
	<script src="../../js/footer.js"></script>
	<script src="../../tinymce4.7.5/tinymce.min.js"></script>
	<script src="../../js/common.js"></script>
	<script type="text/template" id="tiny">
		<div :class="{fullscreen:fullscreen}" class="tinymce-container editor-container">
			<textarea :id="tinymceId" class="tinymce-textarea" />
			<div class="editor-custom-btn-container">
				<editorImage color="#1890ff" class="editor-upload-btn" @successCBK="imageSuccessCBK" />
			</div>
		</div>
	</script>
	<script src="../../js/TinyMce/eidtorImage.js"></script>
	<script src="../../js/TinyMce/index.js"></script>
	<script src="../layui/layui.js"></script>
	<script>
		new Vue({
			components: {
				'tinymce': tinyMce
			},
			data() {
				return {
					current: "qa",
					activeName: "first",
					tabPosition: 'all',
					searchKeyword: '',
					tag: true,
					content: "123",
					question: {}
				}
			},
			created() {

				var id = GetQueryString('id')
				service({
					url: '/questions/getone?id=' + id,
					method: 'get',
				}).then((res) => {
					this.question = res.data;
					layui.use(['fly', 'form'], function() {
						var fly = layui.fly;
						var layer = layui.layer;
						var content = fly.content(res.data.content)
						console.log(content)
//						this.question = res.data;

					})
				})
			},
			methods: {
				handleClick() {

				}
			}
		}).$mount('#app')
	</script>

</html>